{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"LineMessagingApiMockStack":{"id":"LineMessagingApiMockStack","path":"LineMessagingApiMockStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"LineMessagingApiMockBucket":{"id":"LineMessagingApiMockBucket","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":[{"bucketName":"*","removalPolicy":"destroy","autoDeleteObjects":true}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"linemessagingapimockstack-line-notify-mock-bucket","tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.215.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"LineMessagingApiMockBucket163462C4"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]},"Service":"lambda.amazonaws.com"},"Resource":[{"Fn::GetAtt":["LineMessagingApiMockBucket163462C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LineMessagingApiMockBucket163462C4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"LineMessagingApiMockStack/LineMessagingApiMockBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.215.0"},"children":{"Staging":{"id":"Staging","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"HandlerLogGroup":{"id":"HandlerLogGroup","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/HandlerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","removalPolicy":"destroy","retention":365}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/HandlerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",{"Fn::Select":[0,{"Fn::Split":["-",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"AWS::StackId"}]}]}]}]}]]},"retentionInDays":365}}}}}}},"LineMessagingApiMockHandlerRole":{"id":"LineMessagingApiMockHandlerRole","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportLineMessagingApiMockHandlerRole":{"id":"ImportLineMessagingApiMockHandlerRole","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerRole/ImportLineMessagingApiMockHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["LineMessagingApiMockBucket163462C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LineMessagingApiMockBucket163462C4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"LineMessagingApiMockHandlerRoleDefaultPolicy516E003A","roles":[{"Ref":"LineMessagingApiMockHandlerRole30AFAD31"}]}}}}}}},"LineMessagingApiMockHandlerLogGroup":{"id":"LineMessagingApiMockHandlerLogGroup","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"removalPolicy":"retain-on-update-or-delete","retention":365}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockHandlerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":365}}}}},"LineMessagingApiMockHandler":{"id":"LineMessagingApiMockHandler","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.215.0","metadata":[{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","code":"*","handler":"*"},{},{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*"}]},"children":{"Code":{"id":"Code","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-643202082981-ap-northeast-1","s3Key":"f7877d6d3da99d4b068656e23a31d09f90fd929af7c318f1ce4e816cf7c8a7e3.zip"},"environment":{"variables":{"BUCKET_NAME":{"Ref":"LineMessagingApiMockBucket163462C4"}}},"functionName":"LineMessagingApiMockStackLineMessagingApiMockHandler","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"LineMessagingApiMockHandlerLogGroup44C7D70C"}},"memorySize":128,"role":{"Fn::GetAtt":["LineMessagingApiMockHandlerRole30AFAD31","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"FunctionUrl":{"id":"FunctionUrl","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE"}]},"children":{"Resource":{"id":"Resource","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","targetFunctionArn":{"Fn::GetAtt":["LineMessagingApiMockHandler53EC5DEF","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"LineMessagingApiMockStack/LineMessagingApiMockHandler/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["LineMessagingApiMockHandler53EC5DEF","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"Exports":{"id":"Exports","path":"LineMessagingApiMockStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"LineMessagingApiMockHandlerFunctionUrlBACC71E8\",\"FunctionUrl\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LineMessagingApiMockHandlerFunctionUrlBACC71E8\",\"FunctionUrl\"]}","path":"LineMessagingApiMockStack/Exports/Output{\"Fn::GetAtt\":[\"LineMessagingApiMockHandlerFunctionUrlBACC71E8\",\"FunctionUrl\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LineMessagingApiMockStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LineMessagingApiMockStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"IntegTestStack":{"id":"IntegTestStack","path":"IntegTestStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"LineNotificationConstruct":{"id":"LineNotificationConstruct","path":"IntegTestStack/LineNotificationConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"NotificationTopicLoggingRole":{"id":"NotificationTopicLoggingRole","path":"IntegTestStack/LineNotificationConstruct/NotificationTopicLoggingRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportNotificationTopicLoggingRole":{"id":"ImportNotificationTopicLoggingRole","path":"IntegTestStack/LineNotificationConstruct/NotificationTopicLoggingRole/ImportNotificationTopicLoggingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/NotificationTopicLoggingRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"sns.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IntegTestStack/LineNotificationConstruct/NotificationTopicLoggingRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/NotificationTopicLoggingRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LineNotificationConstructNotificationTopicLoggingRoleDefaultPolicy386C5713","roles":[{"Ref":"LineNotificationConstructNotificationTopicLoggingRoleD4E69E45"}]}}}}}}},"NotificationTopic":{"id":"NotificationTopic","path":"IntegTestStack/LineNotificationConstruct/NotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[{"topicName":"*","displayName":"*","enforceSSL":true,"loggingConfigs":[{"protocol":"lambda","successFeedbackRole":"*","failureFeedbackRole":"*","successFeedbackSampleRate":"*"}]},{"addLoggingConfig":[{"protocol":"lambda","successFeedbackRole":"*","failureFeedbackRole":"*","successFeedbackSampleRate":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/NotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"deliveryStatusLogging":[{"protocol":"lambda","failureFeedbackRoleArn":{"Fn::GetAtt":["LineNotificationConstructNotificationTopicLoggingRoleD4E69E45","Arn"]},"successFeedbackRoleArn":{"Fn::GetAtt":["LineNotificationConstructNotificationTopicLoggingRoleD4E69E45","Arn"]},"successFeedbackSampleRate":"100"}],"displayName":"IntegTestStackNotificationTopic","topicName":"IntegTestStackNotificationTopic"}}},"Policy":{"id":"Policy","path":"IntegTestStack/LineNotificationConstruct/NotificationTopic/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.TopicPolicy","version":"2.215.0","metadata":[{"topics":["*"]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/NotificationTopic/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopicPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::TopicPolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sns:Publish","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":"*","Resource":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"},"Sid":"AllowPublishThroughSSLOnly"},{"Action":["SNS:AddPermission","SNS:DeleteTopic","SNS:GetTopicAttributes","SNS:ListSubscriptionsByTopic","SNS:Publish","SNS:Receive","SNS:RemovePermission","SNS:SetTopicAttributes","SNS:Subscribe"],"Condition":{"StringEquals":{"AWS:SourceOwner":"643202082981"}},"Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"},"Sid":"1"}],"Version":"2012-10-17"},"topics":[{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}]}}}}}}},"LineNotificationHandlerRole":{"id":"LineNotificationHandlerRole","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportLineNotificationHandlerRole":{"id":"ImportLineNotificationHandlerRole","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandlerRole/ImportLineNotificationHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"LineNotificationHandlerLogGroup":{"id":"LineNotificationHandlerLogGroup","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandlerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"removalPolicy":"retain-on-update-or-delete","retention":365}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandlerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":365}}}}},"LineNotificationHandler":{"id":"LineNotificationHandler","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.215.0","metadata":[{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","events":"*","code":"*","handler":"*"},{},{},{},{},{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","events":"*"}]},"children":{"Code":{"id":"Code","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-643202082981-ap-northeast-1","s3Key":"28c8098df9117d82af7344b0d0ffad456c40158d1e4f9dde9a5b3394757d5a87.zip"},"environment":{"variables":{"LINE_NOTIFICATION_TEST_URL":{"Fn::ImportValue":"LineMessagingApiMockStack:ExportsOutputFnGetAttLineMessagingApiMockHandlerFunctionUrlBACC71E8FunctionUrlA76D3756"},"LINE_CHANNEL_ID":"","LINE_CHANNEL_SECRET":"","LINE_USER_ID":""}},"functionName":"IntegTestStackLineNotificationHandler","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"LineNotificationConstructLineNotificationHandlerLogGroup0D100642"}},"memorySize":128,"role":{"Fn::GetAtt":["LineNotificationConstructLineNotificationHandlerRole184B36DA","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"AllowInvoke:IntegTestStackLineNotificationConstructNotificationTopic205E1087":{"id":"AllowInvoke:IntegTestStackLineNotificationConstructNotificationTopic205E1087","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/AllowInvoke:IntegTestStackLineNotificationConstructNotificationTopic205E1087","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LineNotificationConstructLineNotificationHandler196C8691","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}}},"NotificationTopic":{"id":"NotificationTopic","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/NotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[{"topic":"*","endpoint":"*","protocol":"lambda","filterPolicy":"*","filterPolicyWithMessageBody":"*","region":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/LineNotificationConstruct/LineNotificationHandler/NotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["LineNotificationConstructLineNotificationHandler196C8691","Arn"]},"protocol":"lambda","topicArn":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}}}}}}}}},"CostScheduleNotificationConstruct":{"id":"CostScheduleNotificationConstruct","path":"IntegTestStack/CostScheduleNotificationConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CostScheduleNotificationHandlerRole":{"id":"CostScheduleNotificationHandlerRole","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCostScheduleNotificationHandlerRole":{"id":"ImportCostScheduleNotificationHandlerRole","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerRole/ImportCostScheduleNotificationHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ce:GetCostAndUsage","ce:GetCostForecast"],"Effect":"Allow","Resource":["arn:aws:ce:us-east-1:643202082981:/GetCostAndUsage","arn:aws:ce:us-east-1:643202082981:/GetCostForecast"]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}],"Version":"2012-10-17"},"policyName":"CostScheduleNotificationConstructCostScheduleNotificationHandlerRoleDefaultPolicyE63C8C25","roles":[{"Ref":"CostScheduleNotificationConstructCostScheduleNotificationHandlerRoleBF14AF54"}]}}}}}}},"CostScheduleNotificationHandlerLogGroup":{"id":"CostScheduleNotificationHandlerLogGroup","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"removalPolicy":"retain-on-update-or-delete","retention":365}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandlerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":365}}}}},"CostScheduleNotificationHandler":{"id":"CostScheduleNotificationHandler","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.215.0","metadata":[{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","onSuccess":"*","onFailure":"*","code":"*","handler":"*"},{},{},{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","onSuccess":"*","onFailure":"*"}]},"children":{"Code":{"id":"Code","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-643202082981-ap-northeast-1","s3Key":"ad1f054d9557d69566fecace2bfc3afad59fb4b4fa8df2547392ccd1ecbcc08b.zip"},"environment":{"variables":{"TZ":"Asia/Tokyo","EXCHANGE_RATE_API_KEY":""}},"functionName":"IntegTestStackCostScheduleNotificationHandler","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"CostScheduleNotificationConstructCostScheduleNotificationHandlerLogGroup293A52C4"}},"memorySize":128,"role":{"Fn::GetAtt":["CostScheduleNotificationConstructCostScheduleNotificationHandlerRoleBF14AF54","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.215.0","metadata":[{"function":"*","onFailure":"*","onSuccess":"*","maxEventAge":"*","retryAttempts":"*"}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostScheduleNotificationHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"destinationConfig":{"onFailure":{"destination":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}},"onSuccess":{"destination":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}},"functionName":{"Ref":"CostScheduleNotificationConstructCostScheduleNotificationHandler917D5237"},"qualifier":"$LATEST"}}}}}}},"CostNotificationSchedulerRole":{"id":"CostNotificationSchedulerRole","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedulerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportCostNotificationSchedulerRole":{"id":"ImportCostNotificationSchedulerRole","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedulerRole/ImportCostNotificationSchedulerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedulerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"scheduler.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedulerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedulerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["CostScheduleNotificationConstructCostScheduleNotificationHandler917D5237","Arn"]}}],"Version":"2012-10-17"},"policyName":"CostScheduleNotificationConstructCostNotificationSchedulerRoleDefaultPolicyA672125A","roles":[{"Ref":"CostScheduleNotificationConstructCostNotificationSchedulerRoleEF98CEDD"}]}}}}}}},"CostNotificationSchedule":{"id":"CostNotificationSchedule","path":"IntegTestStack/CostScheduleNotificationConstruct/CostNotificationSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_scheduler.CfnSchedule","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Scheduler::Schedule","aws:cdk:cloudformation:props":{"flexibleTimeWindow":{"mode":"OFF"},"name":"IntegTestStackCostNotificationSchedule","scheduleExpression":"cron(0 10 ? * 2 *)","scheduleExpressionTimezone":"Asia/Tokyo","target":{"arn":{"Fn::GetAtt":["CostScheduleNotificationConstructCostScheduleNotificationHandler917D5237","Arn"]},"roleArn":{"Fn::GetAtt":["CostScheduleNotificationConstructCostNotificationSchedulerRoleEF98CEDD","Arn"]}}}}}}},"BudgetAlertConstruct":{"id":"BudgetAlertConstruct","path":"IntegTestStack/BudgetAlertConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BudgetAlertTopicLoggingRole":{"id":"BudgetAlertTopicLoggingRole","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopicLoggingRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportBudgetAlertTopicLoggingRole":{"id":"ImportBudgetAlertTopicLoggingRole","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopicLoggingRole/ImportBudgetAlertTopicLoggingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopicLoggingRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"sns.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopicLoggingRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopicLoggingRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents","logs:PutMetricFilter","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BudgetAlertConstructBudgetAlertTopicLoggingRoleDefaultPolicy5FC26D8E","roles":[{"Ref":"BudgetAlertConstructBudgetAlertTopicLoggingRoleD3D2101A"}]}}}}}}},"BudgetAlertTopic":{"id":"BudgetAlertTopic","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[{"topicName":"*","displayName":"*","enforceSSL":true,"loggingConfigs":[{"protocol":"lambda","successFeedbackRole":"*","failureFeedbackRole":"*","successFeedbackSampleRate":"*"}]},{"addLoggingConfig":[{"protocol":"lambda","successFeedbackRole":"*","failureFeedbackRole":"*","successFeedbackSampleRate":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"deliveryStatusLogging":[{"protocol":"lambda","failureFeedbackRoleArn":{"Fn::GetAtt":["BudgetAlertConstructBudgetAlertTopicLoggingRoleD3D2101A","Arn"]},"successFeedbackRoleArn":{"Fn::GetAtt":["BudgetAlertConstructBudgetAlertTopicLoggingRoleD3D2101A","Arn"]},"successFeedbackSampleRate":"100"}],"displayName":"IntegTestStackBudgetAlertTopic","topicName":"IntegTestStackBudgetAlertTopic"}}},"Policy":{"id":"Policy","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopic/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.TopicPolicy","version":"2.215.0","metadata":[{"topics":["*"]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertTopic/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopicPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::TopicPolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sns:Publish","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":"*","Resource":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"},"Sid":"AllowPublishThroughSSLOnly"},{"Action":["SNS:AddPermission","SNS:DeleteTopic","SNS:GetTopicAttributes","SNS:ListSubscriptionsByTopic","SNS:Publish","SNS:Receive","SNS:RemovePermission","SNS:SetTopicAttributes","SNS:Subscribe"],"Condition":{"StringEquals":{"AWS:SourceOwner":"643202082981"}},"Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"},"Sid":"1"},{"Action":"SNS:Publish","Effect":"Allow","Principal":{"Service":"budgets.amazonaws.com"},"Resource":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"},"Sid":"2"}],"Version":"2012-10-17"},"topics":[{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"}]}}}}}}},"BudgetAlertHandlerRole":{"id":"BudgetAlertHandlerRole","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportBudgetAlertHandlerRole":{"id":"ImportBudgetAlertHandlerRole","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerRole/ImportBudgetAlertHandlerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ce:GetCostAndUsage","ce:GetCostForecast"],"Effect":"Allow","Resource":["arn:aws:ce:us-east-1:643202082981:/GetCostAndUsage","arn:aws:ce:us-east-1:643202082981:/GetCostForecast"]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}],"Version":"2012-10-17"},"policyName":"BudgetAlertConstructBudgetAlertHandlerRoleDefaultPolicy68BAD42F","roles":[{"Ref":"BudgetAlertConstructBudgetAlertHandlerRole355CA4D5"}]}}}}}}},"BudgetAlertHandlerLogGroup":{"id":"BudgetAlertHandlerLogGroup","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"removalPolicy":"retain-on-update-or-delete","retention":365}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandlerLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":365}}}}},"BudgetAlertHandler":{"id":"BudgetAlertHandler","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.215.0","metadata":[{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","events":"*","onSuccess":"*","onFailure":"*","code":"*","handler":"*"},{},{},{"runtime":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","entry":"*","functionName":"*","bundling":{"externalModules":"*","tsconfig":"*"},"environment":"*","events":"*","onSuccess":"*","onFailure":"*"}]},"children":{"Code":{"id":"Code","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-643202082981-ap-northeast-1","s3Key":"06ccaec5f185d747d3abfa5a209f1a9249cf47ba0b7c941c2f383b7b4858cfb9.zip"},"environment":{"variables":{"TZ":"Asia/Tokyo","EXCHANGE_RATE_API_KEY":""}},"functionName":"IntegTestStackBudgetAlertHandler","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"BudgetAlertConstructBudgetAlertHandlerLogGroupB0D163EA"}},"memorySize":128,"role":{"Fn::GetAtt":["BudgetAlertConstructBudgetAlertHandlerRole355CA4D5","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"AllowInvoke:IntegTestStackBudgetAlertConstructBudgetAlertTopicF2AFEA3A":{"id":"AllowInvoke:IntegTestStackBudgetAlertConstructBudgetAlertTopicF2AFEA3A","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/AllowInvoke:IntegTestStackBudgetAlertConstructBudgetAlertTopicF2AFEA3A","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BudgetAlertConstructBudgetAlertHandler511F71D7","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"}}}},"BudgetAlertTopic":{"id":"BudgetAlertTopic","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/BudgetAlertTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[{"topic":"*","endpoint":"*","protocol":"lambda","filterPolicy":"*","filterPolicyWithMessageBody":"*","region":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/BudgetAlertTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["BudgetAlertConstructBudgetAlertHandler511F71D7","Arn"]},"protocol":"lambda","topicArn":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"}}}}}},"EventInvokeConfig":{"id":"EventInvokeConfig","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/EventInvokeConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventInvokeConfig","version":"2.215.0","metadata":[{"function":"*","onFailure":"*","onSuccess":"*","maxEventAge":"*","retryAttempts":"*"}]},"children":{"Resource":{"id":"Resource","path":"IntegTestStack/BudgetAlertConstruct/BudgetAlertHandler/EventInvokeConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventInvokeConfig","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventInvokeConfig","aws:cdk:cloudformation:props":{"destinationConfig":{"onFailure":{"destination":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}},"onSuccess":{"destination":{"Ref":"LineNotificationConstructNotificationTopicE4CBF5A0"}}},"functionName":{"Ref":"BudgetAlertConstructBudgetAlertHandler511F71D7"},"qualifier":"$LATEST"}}}}}}},"MonthlyCostBudget":{"id":"MonthlyCostBudget","path":"IntegTestStack/BudgetAlertConstruct/MonthlyCostBudget","constructInfo":{"fqn":"aws-cdk-lib.aws_budgets.CfnBudget","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Budgets::Budget","aws:cdk:cloudformation:props":{"budget":{"budgetName":"IntegTestStack-MonthlyCostBudget","budgetType":"COST","timeUnit":"MONTHLY","budgetLimit":{"amount":100,"unit":"USD"}},"notificationsWithSubscribers":[{"notification":{"notificationType":"ACTUAL","comparisonOperator":"GREATER_THAN","threshold":50,"thresholdType":"PERCENTAGE"},"subscribers":[{"subscriptionType":"SNS","address":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"}}]},{"notification":{"notificationType":"FORECASTED","comparisonOperator":"GREATER_THAN","threshold":50,"thresholdType":"PERCENTAGE"},"subscribers":[{"subscriptionType":"SNS","address":{"Ref":"BudgetAlertConstructBudgetAlertTopic754D47EA"}}]}]}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"IntegTestStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"IntegTestStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"DataFlowTest":{"id":"DataFlowTest","path":"DataFlowTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"2.215.0-alpha.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"DataFlowTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"2.215.0-alpha.0"},"children":{"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"DataFlowTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862":{"id":"AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"2.215.0-alpha.0"},"children":{"SdkProvider":{"id":"SdkProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862/SdkProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"2.215.0-alpha.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862/Default","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCallbudgetsUpdateBudgetead4a4a699852e842dd2dbe5ffda6862/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}}}},"SingletonFunction1488541a7b23466481b69b4408076b81":{"id":"SingletonFunction1488541a7b23466481b69b4408076b81","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"LogGroup":{"id":"LogGroup","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"DataFlowTest/DefaultTest/DeployAssert/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.215.0"}},"AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329":{"id":"AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"2.215.0-alpha.0"},"children":{"SdkProvider":{"id":"SdkProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329/SdkProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"2.215.0-alpha.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329/Default","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalllambdaInvokeaef4e29ae1b63c7c3e67b0982c78c329/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}}}},"AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b":{"id":"AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"2.215.0-alpha.0"},"children":{"SdkProvider":{"id":"SdkProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/SdkProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"2.215.0-alpha.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/Default","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*","*","*"]},"children":{"Default":{"id":"Default","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"WaitFor":{"id":"WaitFor","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.WaiterStateMachine","version":"2.215.0-alpha.0"},"children":{"IsCompleteProvider":{"id":"IsCompleteProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/IsCompleteProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"2.215.0-alpha.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/IsCompleteProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Invoke":{"id":"Invoke","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/IsCompleteProvider/Invoke","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"TimeoutProvider":{"id":"TimeoutProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/TimeoutProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"2.215.0-alpha.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/TimeoutProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Invoke":{"id":"Invoke","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/TimeoutProvider/Invoke","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"Role":{"id":"Role","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Resource":{"id":"Resource","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/WaitFor/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"AssertionResults":{"id":"AssertionResults","path":"DataFlowTest/DefaultTest/DeployAssert/AwsApiCalls3ListObjectsV26c5350d08d29d6d29aa8cf62da5d546b/AssertionResults","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}}}},"SingletonFunction76b3e830a873425f8453eddd85c86925":{"id":"SingletonFunction76b3e830a873425f8453eddd85c86925","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction76b3e830a873425f8453eddd85c86925","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction76b3e830a873425f8453eddd85c86925/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction76b3e830a873425f8453eddd85c86925/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction76b3e830a873425f8453eddd85c86925/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a":{"id":"SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"DataFlowTest/DefaultTest/DeployAssert/SingletonFunction5c1898e096fb4e3e95d5f6c67f3ce41a/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DataFlowTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DataFlowTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}